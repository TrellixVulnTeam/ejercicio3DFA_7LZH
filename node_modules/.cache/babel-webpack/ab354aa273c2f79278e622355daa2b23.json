{"ast":null,"code":"import _asyncToGenerator from \"/home/pascuord/Documentos/uoc/masterDesarrolloAplicacionesPaginasWeb/desarrolloFrontEndAvanzado/pec2/ejercicio3/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { FormControl, Validators } from '@angular/forms';\nimport { AuthDTO } from 'src/app/Models/auth.dto';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/Services/auth.service\";\nimport * as i3 from \"src/app/Services/shared.service\";\nimport * as i4 from \"src/app/Services/header-menus.service\";\nimport * as i5 from \"src/app/Services/local-storage.service\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@angular/common\";\n\nfunction LoginComponent_div_16_span_1_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Email is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_16_span_1_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Email not a valid format.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_16_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 10);\n    i0.ɵɵtemplate(1, LoginComponent_div_16_span_1_span_1_Template, 2, 0, \"span\", 8);\n    i0.ɵɵtemplate(2, LoginComponent_div_16_span_1_div_2_Template, 2, 0, \"div\", 8);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.email.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.email.errors.pattern);\n  }\n}\n\nfunction LoginComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, LoginComponent_div_16_span_1_Template, 3, 2, \"span\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.email.errors && (ctx_r0.email.touched || ctx_r0.email.dirty));\n  }\n}\n\nfunction LoginComponent_div_17_span_1_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Password is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_17_span_1_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Password must be greater tha 8 characters\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_17_span_1_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Password can be max 16 characters long\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_17_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 10);\n    i0.ɵɵtemplate(1, LoginComponent_div_17_span_1_span_1_Template, 2, 0, \"span\", 8);\n    i0.ɵɵtemplate(2, LoginComponent_div_17_span_1_span_2_Template, 2, 0, \"span\", 8);\n    i0.ɵɵtemplate(3, LoginComponent_div_17_span_1_span_3_Template, 2, 0, \"span\", 8);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.password.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.password.errors.minlength);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.password.errors.maxlength);\n  }\n}\n\nfunction LoginComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, LoginComponent_div_17_span_1_Template, 4, 3, \"span\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.password.errors && (ctx_r1.password.touched || ctx_r1.password.dirty));\n  }\n}\n\nexport class LoginComponent {\n  constructor(formBuilder, authService, sharedService, headerMenusService, localStorageService, router) {\n    this.formBuilder = formBuilder;\n    this.authService = authService;\n    this.sharedService = sharedService;\n    this.headerMenusService = headerMenusService;\n    this.localStorageService = localStorageService;\n    this.router = router;\n    this.loginUser = new AuthDTO('', '', '', '');\n    this.email = new FormControl('', [Validators.required, Validators.pattern('[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$')]);\n    this.password = new FormControl('', [Validators.required, Validators.minLength(8), Validators.maxLength(16)]);\n    this.loginForm = this.formBuilder.group({\n      email: this.email,\n      password: this.password\n    });\n  }\n\n  ngOnInit() {}\n\n  login() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let responseOK = false;\n      let errorResponse;\n      _this.loginUser.email = _this.email.value;\n      _this.loginUser.password = _this.password.value;\n\n      _this.authService.login(_this.loginUser).subscribe(authResult => {\n        responseOK = true;\n        _this.loginUser.user_id = authResult.user_id;\n        _this.loginUser.access_token = authResult.access_token; // save token to localstorage for next requests\n\n        _this.localStorageService.set('user_id', _this.loginUser.user_id);\n\n        _this.localStorageService.set('access_token', _this.loginUser.access_token);\n      }, error => {\n        responseOK = false;\n        errorResponse = error.error;\n        const headerInfo = {\n          showAuthSection: false,\n          showNoAuthSection: true\n        };\n\n        _this.headerMenusService.headerManagement.next(headerInfo);\n\n        _this.sharedService.errorLog(error.error);\n      }, () => {\n        _this.sharedService.managementToast('loginFeedback', responseOK, errorResponse);\n\n        if (responseOK) {\n          const headerInfo = {\n            showAuthSection: true,\n            showNoAuthSection: false\n          }; // update options menu\n\n          _this.headerMenusService.headerManagement.next(headerInfo);\n\n          _this.router.navigateByUrl('home');\n        }\n      });\n    })();\n  }\n\n}\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.SharedService), i0.ɵɵdirectiveInject(i4.HeaderMenusService), i0.ɵɵdirectiveInject(i5.LocalStorageService), i0.ɵɵdirectiveInject(i6.Router));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 18,\n  vars: 6,\n  consts: [[2, \"margin-left\", \"auto\", \"margin-right\", \"auto\"], [\"id\", \"loginFeedback\"], [3, \"formGroup\", \"ngSubmit\"], [\"for\", \"email\"], [\"type\", \"email\", 3, \"formControl\"], [\"for\", \"password\"], [\"type\", \"password\", 3, \"formControl\"], [\"type\", \"submit\", 3, \"disabled\"], [4, \"ngIf\"], [\"style\", \"color: red\", 4, \"ngIf\"], [2, \"color\", \"red\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"p\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\");\n      i0.ɵɵelementStart(3, \"h1\");\n      i0.ɵɵtext(4, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_5_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵelementStart(6, \"div\");\n      i0.ɵɵelementStart(7, \"label\", 3);\n      i0.ɵɵtext(8, \"Email: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"input\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\");\n      i0.ɵɵelementStart(11, \"label\", 5);\n      i0.ɵɵtext(12, \"Password: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"button\", 7);\n      i0.ɵɵtext(15, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(16, LoginComponent_div_16_Template, 2, 1, \"div\", 8);\n      i0.ɵɵtemplate(17, LoginComponent_div_17_Template, 2, 1, \"div\", 8);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formControl\", ctx.email);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formControl\", ctx.password);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", !ctx.loginForm.valid);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.email.errors);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.password.errors);\n    }\n  },\n  directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlDirective, i7.NgIf],\n  styles: [\".error[_ngcontent-%COMP%] {\\n  color: red;\\n}\\n\\n#loginFeedback[_ngcontent-%COMP%] {\\n  visibility: hidden;\\n  min-width: 250px;\\n  color: #fff;\\n  text-align: center;\\n  border-radius: 10px;\\n  padding: 16px;\\n  z-index: 1;\\n  font-size: 14px;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n\\n#loginFeedback.requestOk[_ngcontent-%COMP%] {\\n  background-color: green;\\n}\\n\\n#loginFeedback.requestKo[_ngcontent-%COMP%] {\\n  background-color: red;\\n}\\n\\n#loginFeedback.show[_ngcontent-%COMP%] {\\n  visibility: visible;\\n  -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;\\n  animation: fadein 0.5s, fadeout 0.5s 2.5s;\\n}\\n\\n@-webkit-keyframes fadein {\\n  from {\\n    bottom: 0;\\n    opacity: 0;\\n  }\\n  to {\\n    bottom: 30px;\\n    opacity: 1;\\n  }\\n}\\n\\n@keyframes fadein {\\n  from {\\n    bottom: 0;\\n    opacity: 0;\\n  }\\n  to {\\n    bottom: 30px;\\n    opacity: 1;\\n  }\\n}\\n\\n@-webkit-keyframes fadeout {\\n  from {\\n    bottom: 30px;\\n    opacity: 1;\\n  }\\n  to {\\n    bottom: 0;\\n    opacity: 0;\\n  }\\n}\\n\\n@keyframes fadeout {\\n  from {\\n    bottom: 30px;\\n    opacity: 1;\\n  }\\n  to {\\n    bottom: 0;\\n    opacity: 0;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsVUFBQTtBQUNGOztBQUVBO0VBQ0Usa0JBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLFVBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsdUJBQUE7QUFDRjs7QUFFQTtFQUNFLHFCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxtQkFBQTtFQUNBLGlEQUFBO0VBQ0EseUNBQUE7QUFDRjs7QUFFQTtFQUNFO0lBQ0UsU0FBQTtJQUNBLFVBQUE7RUFDRjtFQUNBO0lBQ0UsWUFBQTtJQUNBLFVBQUE7RUFDRjtBQUNGOztBQUVBO0VBQ0U7SUFDRSxTQUFBO0lBQ0EsVUFBQTtFQUFGO0VBRUE7SUFDRSxZQUFBO0lBQ0EsVUFBQTtFQUFGO0FBQ0Y7O0FBR0E7RUFDRTtJQUNFLFlBQUE7SUFDQSxVQUFBO0VBREY7RUFHQTtJQUNFLFNBQUE7SUFDQSxVQUFBO0VBREY7QUFDRjs7QUFJQTtFQUNFO0lBQ0UsWUFBQTtJQUNBLFVBQUE7RUFGRjtFQUlBO0lBQ0UsU0FBQTtJQUNBLFVBQUE7RUFGRjtBQUNGIiwiZmlsZSI6ImxvZ2luLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmVycm9yIHtcclxuICBjb2xvcjogcmVkO1xyXG59XHJcblxyXG4jbG9naW5GZWVkYmFjayB7XHJcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xyXG4gIG1pbi13aWR0aDogMjUwcHg7XHJcbiAgY29sb3I6ICNmZmY7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgcGFkZGluZzogMTZweDtcclxuICB6LWluZGV4OiAxO1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxuICBtYXJnaW4tbGVmdDogYXV0bztcclxuICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbn1cclxuXHJcbiNsb2dpbkZlZWRiYWNrLnJlcXVlc3RPayB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XHJcbn1cclxuXHJcbiNsb2dpbkZlZWRiYWNrLnJlcXVlc3RLbyB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xyXG59XHJcblxyXG4jbG9naW5GZWVkYmFjay5zaG93IHtcclxuICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xyXG4gIC13ZWJraXQtYW5pbWF0aW9uOiBmYWRlaW4gMC41cywgZmFkZW91dCAwLjVzIDIuNXM7XHJcbiAgYW5pbWF0aW9uOiBmYWRlaW4gMC41cywgZmFkZW91dCAwLjVzIDIuNXM7XHJcbn1cclxuXHJcbkAtd2Via2l0LWtleWZyYW1lcyBmYWRlaW4ge1xyXG4gIGZyb20ge1xyXG4gICAgYm90dG9tOiAwO1xyXG4gICAgb3BhY2l0eTogMDtcclxuICB9XHJcbiAgdG8ge1xyXG4gICAgYm90dG9tOiAzMHB4O1xyXG4gICAgb3BhY2l0eTogMTtcclxuICB9XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgZmFkZWluIHtcclxuICBmcm9tIHtcclxuICAgIGJvdHRvbTogMDtcclxuICAgIG9wYWNpdHk6IDA7XHJcbiAgfVxyXG4gIHRvIHtcclxuICAgIGJvdHRvbTogMzBweDtcclxuICAgIG9wYWNpdHk6IDE7XHJcbiAgfVxyXG59XHJcblxyXG5ALXdlYmtpdC1rZXlmcmFtZXMgZmFkZW91dCB7XHJcbiAgZnJvbSB7XHJcbiAgICBib3R0b206IDMwcHg7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG4gIH1cclxuICB0byB7XHJcbiAgICBib3R0b206IDA7XHJcbiAgICBvcGFjaXR5OiAwO1xyXG4gIH1cclxufVxyXG5cclxuQGtleWZyYW1lcyBmYWRlb3V0IHtcclxuICBmcm9tIHtcclxuICAgIGJvdHRvbTogMzBweDtcclxuICAgIG9wYWNpdHk6IDE7XHJcbiAgfVxyXG4gIHRvIHtcclxuICAgIGJvdHRvbTogMDtcclxuICAgIG9wYWNpdHk6IDA7XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"]\n});","map":{"version":3,"sources":["/home/pascuord/Documentos/uoc/masterDesarrolloAplicacionesPaginasWeb/desarrolloFrontEndAvanzado/pec2/ejercicio3/src/app/Components/auth/login/login.component.ts"],"names":["FormControl","Validators","AuthDTO","i0","i1","i2","i3","i4","i5","i6","i7","LoginComponent_div_16_span_1_span_1_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","LoginComponent_div_16_span_1_div_2_Template","LoginComponent_div_16_span_1_Template","ɵɵtemplate","ctx_r2","ɵɵnextContext","ɵɵadvance","ɵɵproperty","email","errors","required","pattern","LoginComponent_div_16_Template","ctx_r0","touched","dirty","LoginComponent_div_17_span_1_span_1_Template","LoginComponent_div_17_span_1_span_2_Template","LoginComponent_div_17_span_1_span_3_Template","LoginComponent_div_17_span_1_Template","ctx_r5","password","minlength","maxlength","LoginComponent_div_17_Template","ctx_r1","LoginComponent","constructor","formBuilder","authService","sharedService","headerMenusService","localStorageService","router","loginUser","minLength","maxLength","loginForm","group","ngOnInit","login","responseOK","errorResponse","value","subscribe","authResult","user_id","access_token","set","error","headerInfo","showAuthSection","showNoAuthSection","headerManagement","next","errorLog","managementToast","navigateByUrl","ɵfac","LoginComponent_Factory","t","ɵɵdirectiveInject","FormBuilder","AuthService","SharedService","HeaderMenusService","LocalStorageService","Router","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","LoginComponent_Template","ɵɵelement","ɵɵlistener","LoginComponent_Template_form_ngSubmit_5_listener","valid","directives","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","DefaultValueAccessor","NgControlStatus","FormControlDirective","NgIf","styles"],"mappings":"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","sourcesContent":["import { FormControl, Validators, } from '@angular/forms';\nimport { AuthDTO } from 'src/app/Models/auth.dto';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/Services/auth.service\";\nimport * as i3 from \"src/app/Services/shared.service\";\nimport * as i4 from \"src/app/Services/header-menus.service\";\nimport * as i5 from \"src/app/Services/local-storage.service\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@angular/common\";\nfunction LoginComponent_div_16_span_1_span_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Email is required\");\n    i0.ɵɵelementEnd();\n} }\nfunction LoginComponent_div_16_span_1_div_2_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Email not a valid format.\");\n    i0.ɵɵelementEnd();\n} }\nfunction LoginComponent_div_16_span_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 10);\n    i0.ɵɵtemplate(1, LoginComponent_div_16_span_1_span_1_Template, 2, 0, \"span\", 8);\n    i0.ɵɵtemplate(2, LoginComponent_div_16_span_1_div_2_Template, 2, 0, \"div\", 8);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.email.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.email.errors.pattern);\n} }\nfunction LoginComponent_div_16_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, LoginComponent_div_16_span_1_Template, 3, 2, \"span\", 9);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.email.errors && (ctx_r0.email.touched || ctx_r0.email.dirty));\n} }\nfunction LoginComponent_div_17_span_1_span_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Password is required\");\n    i0.ɵɵelementEnd();\n} }\nfunction LoginComponent_div_17_span_1_span_2_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Password must be greater tha 8 characters\");\n    i0.ɵɵelementEnd();\n} }\nfunction LoginComponent_div_17_span_1_span_3_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Password can be max 16 characters long\");\n    i0.ɵɵelementEnd();\n} }\nfunction LoginComponent_div_17_span_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 10);\n    i0.ɵɵtemplate(1, LoginComponent_div_17_span_1_span_1_Template, 2, 0, \"span\", 8);\n    i0.ɵɵtemplate(2, LoginComponent_div_17_span_1_span_2_Template, 2, 0, \"span\", 8);\n    i0.ɵɵtemplate(3, LoginComponent_div_17_span_1_span_3_Template, 2, 0, \"span\", 8);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.password.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.password.errors.minlength);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.password.errors.maxlength);\n} }\nfunction LoginComponent_div_17_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, LoginComponent_div_17_span_1_Template, 4, 3, \"span\", 9);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.password.errors && (ctx_r1.password.touched || ctx_r1.password.dirty));\n} }\nexport class LoginComponent {\n    constructor(formBuilder, authService, sharedService, headerMenusService, localStorageService, router) {\n        this.formBuilder = formBuilder;\n        this.authService = authService;\n        this.sharedService = sharedService;\n        this.headerMenusService = headerMenusService;\n        this.localStorageService = localStorageService;\n        this.router = router;\n        this.loginUser = new AuthDTO('', '', '', '');\n        this.email = new FormControl('', [\n            Validators.required,\n            Validators.pattern('[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$'),\n        ]);\n        this.password = new FormControl('', [\n            Validators.required,\n            Validators.minLength(8),\n            Validators.maxLength(16),\n        ]);\n        this.loginForm = this.formBuilder.group({\n            email: this.email,\n            password: this.password,\n        });\n    }\n    ngOnInit() { }\n    async login() {\n        let responseOK = false;\n        let errorResponse;\n        this.loginUser.email = this.email.value;\n        this.loginUser.password = this.password.value;\n        this.authService.login(this.loginUser).subscribe((authResult) => {\n            responseOK = true;\n            this.loginUser.user_id = authResult.user_id;\n            this.loginUser.access_token = authResult.access_token;\n            // save token to localstorage for next requests\n            this.localStorageService.set('user_id', this.loginUser.user_id);\n            this.localStorageService.set('access_token', this.loginUser.access_token);\n        }, (error) => {\n            responseOK = false;\n            errorResponse = error.error;\n            const headerInfo = {\n                showAuthSection: false,\n                showNoAuthSection: true,\n            };\n            this.headerMenusService.headerManagement.next(headerInfo);\n            this.sharedService.errorLog(error.error);\n        }, () => {\n            this.sharedService.managementToast('loginFeedback', responseOK, errorResponse);\n            if (responseOK) {\n                const headerInfo = {\n                    showAuthSection: true,\n                    showNoAuthSection: false,\n                };\n                // update options menu\n                this.headerMenusService.headerManagement.next(headerInfo);\n                this.router.navigateByUrl('home');\n            }\n        });\n    }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) { return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.SharedService), i0.ɵɵdirectiveInject(i4.HeaderMenusService), i0.ɵɵdirectiveInject(i5.LocalStorageService), i0.ɵɵdirectiveInject(i6.Router)); };\nLoginComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: LoginComponent, selectors: [[\"app-login\"]], decls: 18, vars: 6, consts: [[2, \"margin-left\", \"auto\", \"margin-right\", \"auto\"], [\"id\", \"loginFeedback\"], [3, \"formGroup\", \"ngSubmit\"], [\"for\", \"email\"], [\"type\", \"email\", 3, \"formControl\"], [\"for\", \"password\"], [\"type\", \"password\", 3, \"formControl\"], [\"type\", \"submit\", 3, \"disabled\"], [4, \"ngIf\"], [\"style\", \"color: red\", 4, \"ngIf\"], [2, \"color\", \"red\"]], template: function LoginComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"p\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\");\n        i0.ɵɵelementStart(3, \"h1\");\n        i0.ɵɵtext(4, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"form\", 2);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_5_listener() { return ctx.login(); });\n        i0.ɵɵelementStart(6, \"div\");\n        i0.ɵɵelementStart(7, \"label\", 3);\n        i0.ɵɵtext(8, \"Email: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(9, \"input\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\");\n        i0.ɵɵelementStart(11, \"label\", 5);\n        i0.ɵɵtext(12, \"Password: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"input\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"button\", 7);\n        i0.ɵɵtext(15, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(16, LoginComponent_div_16_Template, 2, 1, \"div\", 8);\n        i0.ɵɵtemplate(17, LoginComponent_div_17_Template, 2, 1, \"div\", 8);\n    } if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formControl\", ctx.email);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formControl\", ctx.password);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !ctx.loginForm.valid);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.email.errors);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.password.errors);\n    } }, directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlDirective, i7.NgIf], styles: [\".error[_ngcontent-%COMP%] {\\n  color: red;\\n}\\n\\n#loginFeedback[_ngcontent-%COMP%] {\\n  visibility: hidden;\\n  min-width: 250px;\\n  color: #fff;\\n  text-align: center;\\n  border-radius: 10px;\\n  padding: 16px;\\n  z-index: 1;\\n  font-size: 14px;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n\\n#loginFeedback.requestOk[_ngcontent-%COMP%] {\\n  background-color: green;\\n}\\n\\n#loginFeedback.requestKo[_ngcontent-%COMP%] {\\n  background-color: red;\\n}\\n\\n#loginFeedback.show[_ngcontent-%COMP%] {\\n  visibility: visible;\\n  -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;\\n  animation: fadein 0.5s, fadeout 0.5s 2.5s;\\n}\\n\\n@-webkit-keyframes fadein {\\n  from {\\n    bottom: 0;\\n    opacity: 0;\\n  }\\n  to {\\n    bottom: 30px;\\n    opacity: 1;\\n  }\\n}\\n\\n@keyframes fadein {\\n  from {\\n    bottom: 0;\\n    opacity: 0;\\n  }\\n  to {\\n    bottom: 30px;\\n    opacity: 1;\\n  }\\n}\\n\\n@-webkit-keyframes fadeout {\\n  from {\\n    bottom: 30px;\\n    opacity: 1;\\n  }\\n  to {\\n    bottom: 0;\\n    opacity: 0;\\n  }\\n}\\n\\n@keyframes fadeout {\\n  from {\\n    bottom: 30px;\\n    opacity: 1;\\n  }\\n  to {\\n    bottom: 0;\\n    opacity: 0;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsVUFBQTtBQUNGOztBQUVBO0VBQ0Usa0JBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLFVBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsdUJBQUE7QUFDRjs7QUFFQTtFQUNFLHFCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxtQkFBQTtFQUNBLGlEQUFBO0VBQ0EseUNBQUE7QUFDRjs7QUFFQTtFQUNFO0lBQ0UsU0FBQTtJQUNBLFVBQUE7RUFDRjtFQUNBO0lBQ0UsWUFBQTtJQUNBLFVBQUE7RUFDRjtBQUNGOztBQUVBO0VBQ0U7SUFDRSxTQUFBO0lBQ0EsVUFBQTtFQUFGO0VBRUE7SUFDRSxZQUFBO0lBQ0EsVUFBQTtFQUFGO0FBQ0Y7O0FBR0E7RUFDRTtJQUNFLFlBQUE7SUFDQSxVQUFBO0VBREY7RUFHQTtJQUNFLFNBQUE7SUFDQSxVQUFBO0VBREY7QUFDRjs7QUFJQTtFQUNFO0lBQ0UsWUFBQTtJQUNBLFVBQUE7RUFGRjtFQUlBO0lBQ0UsU0FBQTtJQUNBLFVBQUE7RUFGRjtBQUNGIiwiZmlsZSI6ImxvZ2luLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmVycm9yIHtcclxuICBjb2xvcjogcmVkO1xyXG59XHJcblxyXG4jbG9naW5GZWVkYmFjayB7XHJcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xyXG4gIG1pbi13aWR0aDogMjUwcHg7XHJcbiAgY29sb3I6ICNmZmY7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgcGFkZGluZzogMTZweDtcclxuICB6LWluZGV4OiAxO1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxuICBtYXJnaW4tbGVmdDogYXV0bztcclxuICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbn1cclxuXHJcbiNsb2dpbkZlZWRiYWNrLnJlcXVlc3RPayB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XHJcbn1cclxuXHJcbiNsb2dpbkZlZWRiYWNrLnJlcXVlc3RLbyB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xyXG59XHJcblxyXG4jbG9naW5GZWVkYmFjay5zaG93IHtcclxuICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xyXG4gIC13ZWJraXQtYW5pbWF0aW9uOiBmYWRlaW4gMC41cywgZmFkZW91dCAwLjVzIDIuNXM7XHJcbiAgYW5pbWF0aW9uOiBmYWRlaW4gMC41cywgZmFkZW91dCAwLjVzIDIuNXM7XHJcbn1cclxuXHJcbkAtd2Via2l0LWtleWZyYW1lcyBmYWRlaW4ge1xyXG4gIGZyb20ge1xyXG4gICAgYm90dG9tOiAwO1xyXG4gICAgb3BhY2l0eTogMDtcclxuICB9XHJcbiAgdG8ge1xyXG4gICAgYm90dG9tOiAzMHB4O1xyXG4gICAgb3BhY2l0eTogMTtcclxuICB9XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgZmFkZWluIHtcclxuICBmcm9tIHtcclxuICAgIGJvdHRvbTogMDtcclxuICAgIG9wYWNpdHk6IDA7XHJcbiAgfVxyXG4gIHRvIHtcclxuICAgIGJvdHRvbTogMzBweDtcclxuICAgIG9wYWNpdHk6IDE7XHJcbiAgfVxyXG59XHJcblxyXG5ALXdlYmtpdC1rZXlmcmFtZXMgZmFkZW91dCB7XHJcbiAgZnJvbSB7XHJcbiAgICBib3R0b206IDMwcHg7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG4gIH1cclxuICB0byB7XHJcbiAgICBib3R0b206IDA7XHJcbiAgICBvcGFjaXR5OiAwO1xyXG4gIH1cclxufVxyXG5cclxuQGtleWZyYW1lcyBmYWRlb3V0IHtcclxuICBmcm9tIHtcclxuICAgIGJvdHRvbTogMzBweDtcclxuICAgIG9wYWNpdHk6IDE7XHJcbiAgfVxyXG4gIHRvIHtcclxuICAgIGJvdHRvbTogMDtcclxuICAgIG9wYWNpdHk6IDA7XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"] });\n"]},"metadata":{},"sourceType":"module"}